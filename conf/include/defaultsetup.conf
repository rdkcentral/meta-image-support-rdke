# Set default value for BUILD_VARIANT
BUILD_VARIANT ?= "debug"
BUILD_VARIANT:disable_multiconfig = ""

# Add build variant to distribution overrides and features
DISTROOVERRIDES .= ":${BUILD_VARIANT}-variant"
DISTRO_FEATURES:append = " ${BUILD_VARIANT}-variant"

# Drop LIBC suffix from TMPDIR
TCLIBCAPPEND = ""
TCLIBCAPPEND:disable_multiconfig = "${TCLIBC}"

# Set variant-specific tmp and buildhistory directories
TMPDIR ?= "${TOPDIR}/tmp-${BUILD_VARIANT}"
BUILDHISTORY_DIR ?= "${TOPDIR}/buildhistory-${BUILD_VARIANT}"

TMPDIR:disable_multiconfig ?= "${TOPDIR}/tmp-${TCLIBCAPPEND}"
BUILDHISTORY_DIR:disable_multiconfig = "${TOPDIR}/buildhistory"

# Set default image type ID (used for image naming and identification)
IMAGE_TYPE_ID ?= "-DEV"
IMAGE_TYPE_ID:disable_multiconfig = ""

# Add build variant suffix to image names for differentiation
IMAGE_BASENAME = "${PN}${IMAGE_TYPE_ID}"
IMAGE_BASENAME:disable_multiconfig = "${PN}"
